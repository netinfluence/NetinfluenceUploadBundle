{% block netinfluence_upload_image_inner_row %}
    {% spaceless %}
        <div class="ni-ub-dz-image-{{ form.vars.name }}">
            {# just render the 2 widgets without labels nor space around #}
            {{ form_widget(form.path) }}
            {{ form_widget(form.temporary) }}
        </div>
    {% endspaceless %}
{% endblock %}

{% block netinfluence_upload_image_row %}
    {% spaceless %}
        <div
                id="ni-ub-{{ form.vars.name }}"
                class="ni-ub"
                {# only simple upload for now #}
                data-max-files=1
                data-form-name="{{ form.vars.name }}"
                data-url="{{ path('netinfluence_upload_api_upload_image') }}"
                >
            {{ block('netinfluence_upload_image_inner_row') }}

            <div id="ni-ub-dz-{{ form.vars.name }}" class="ni-ub-dz dropzone">
                {# Dropzone will be here! #}
            </div>

            <div id="ni-ub-error-{{ form.vars.name }}" class="ni-ub-error">
                {# Will be filled with eventual errors #}
            </div>
        </div>
    {% endspaceless %}
{% endblock %}

{% block netinfluence_upload_image_collection_row %}
    {% spaceless %}
        <div
                id="ni-ub-{{ form.vars.name }}"
                class="ni-ub"
                {% if form.vars.max_files != 0 %}data-max-files={{ form.vars.max_files }}{% endif %}
                data-form-name="{{ form.vars.name }}"
                data-url="{{ path('netinfluence_upload_api_upload_image') }}"
                >

            {#
                Render a standard collection
                Just add a specific attribute we will hook into
            #}
            {#  #}
            {%- set attr = attr|merge({'data-collection': ''}) -%}
            {{- block('collection_widget') -}}

            <div id="ni-ub-dz-{{ form.vars.name }}" class="ni-ub-dz dropzone">
                {# Dropzone will be here! #}
            </div>

            <div id="ni-ub-error-{{ form.vars.name }}" class="ni-ub-error">
                {# Will be filled with eventual errors #}
            </div>
        </div>
    {% endspaceless %}
{% endblock %}
